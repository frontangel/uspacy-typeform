{"version":3,"file":"static/js/969.b765354a.chunk.js","mappings":"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","sources":["webpack://container/./src/components/Settings/index.tsx"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Box, Button, CircularProgress, Input, Link, Typography } from '@mui/material';\nimport { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { getTokenByKey } from '../../helpers/db';\nimport Providers from '../../Providers';\nimport Instruction from './instruction';\nfunction getCookie(name) {\n    var value = \"; \".concat(document.cookie);\n    var parts = value.split(\"; \".concat(name, \"=\"));\n    if (parts.length === 2)\n        return parts.pop().split(';').shift();\n}\nfunction getDomain() {\n    var currentUrl = window.location.href;\n    var url = new URL(currentUrl);\n    return url.hostname;\n}\nfunction getAuthApiUrl() {\n    var domain = getDomain();\n    var isStaging = domain.endsWith('staging.uspacy.tech');\n    if (isStaging) {\n        return 'https://auth.dev.leadbox.com.ua';\n    }\n    switch (domain) {\n        case 'localhost': {\n            return 'http://localhost:6904';\n        }\n        default: {\n            return 'https://auth.leadbox.com.ua';\n        }\n    }\n}\nvar APP_URL = getAuthApiUrl();\nvar widgetType = 'typeform';\nvar appCode = 'typeform_leadbox';\nvar Settings = function () {\n    var _a, _b, _c;\n    var _d = useState({ installed: false, apiKey: '', isConnected: false }), settings = _d[0], setSettings = _d[1];\n    var _e = useState(true), loading = _e[0], setLoading = _e[1];\n    var _f = useState(false), isChanged = _f[0], setChange = _f[1];\n    var _g = useState(''), errorMessage = _g[0], setError = _g[1];\n    var t = useTranslation('settings').t;\n    var fetchInstance = function (url, token, options) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve) {\n                    var headers = {};\n                    headers['Accept-Language'] = 'uk';\n                    headers['Content-Type'] = 'application/json';\n                    if (token) {\n                        headers['Authorization'] = \"Bearer \".concat(token);\n                    }\n                    fetch(url, __assign({ headers: headers }, options))\n                        .then(function (result) { return result.json(); })\n                        .then(resolve)\n                        .catch(function () {\n                        resolve({\n                            apiKey: '',\n                            isConnected: false,\n                            installed: false,\n                        });\n                    });\n                })];\n        });\n    }); };\n    var getAppToken = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var isLocalhost, token, response;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    isLocalhost = getDomain() === 'localhost';\n                    if (isLocalhost) {\n                        return [2 /*return*/, getCookie('usAppToken')];\n                    }\n                    return [4 /*yield*/, getTokenByKey('token')];\n                case 1:\n                    token = _b.sent();\n                    return [4 /*yield*/, fetchInstance(\"/apps/v1/apps?code[]=\".concat(appCode), token)];\n                case 2:\n                    response = _b.sent();\n                    return [4 /*yield*/, debounceFn()];\n                case 3:\n                    _b.sent();\n                    return [2 /*return*/, ((_a = response === null || response === void 0 ? void 0 : response.data[0]) === null || _a === void 0 ? void 0 : _a.integration_token) || ''];\n            }\n        });\n    }); };\n    var debounceFn = function (delay) {\n        if (delay === void 0) { delay = 2000; }\n        return new Promise(function (resolve) { return setTimeout(resolve, delay); });\n    };\n    useEffect(function () {\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\n            var appToken, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        setLoading(true);\n                        return [4 /*yield*/, getAppToken()];\n                    case 1:\n                        appToken = _a.sent();\n                        return [4 /*yield*/, fetchInstance(\"\".concat(APP_URL, \"/uspacy/\").concat(widgetType, \"/settings\"), appToken)];\n                    case 2:\n                        response = _a.sent();\n                        setSettings(response);\n                        setLoading(false);\n                        return [2 /*return*/];\n                }\n            });\n        }); })();\n    }, []);\n    var handleSubmit = function (e) { return __awaiter(void 0, void 0, void 0, function () {\n        var appToken, response;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    e.preventDefault();\n                    setLoading(true);\n                    setError('');\n                    return [4 /*yield*/, getAppToken()];\n                case 1:\n                    appToken = _b.sent();\n                    return [4 /*yield*/, fetchInstance(\"\".concat(APP_URL, \"/uspacy/\").concat(widgetType, \"/settings\"), appToken, {\n                            method: 'POST',\n                            body: JSON.stringify({ apiKey: (_a = settings.apiKey) === null || _a === void 0 ? void 0 : _a.trim() }),\n                        })];\n                case 2:\n                    response = _b.sent();\n                    response.error ? setError(response.message) : setSettings(response);\n                    setLoading(false);\n                    setChange(false);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleDisconnect = function (e) { return __awaiter(void 0, void 0, void 0, function () {\n        var appToken, response;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    e.preventDefault();\n                    setLoading(true);\n                    setError('');\n                    return [4 /*yield*/, getAppToken()];\n                case 1:\n                    appToken = _b.sent();\n                    return [4 /*yield*/, fetchInstance(\"\".concat(APP_URL, \"/uspacy/\").concat(widgetType, \"/settings\"), appToken, {\n                            method: 'DELETE',\n                            body: JSON.stringify({ apiKey: (_a = settings.apiKey) === null || _a === void 0 ? void 0 : _a.trim() }),\n                        })];\n                case 2:\n                    response = _b.sent();\n                    response.error ? setError(response.message) : setSettings(response);\n                    setLoading(false);\n                    setChange(false);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleChange = function (e) {\n        setError('');\n        setSettings(__assign(__assign({}, settings), { apiKey: e.target.value }));\n        setChange(true);\n    };\n    var colorBadge = loading\n        ? {\n            color: '#ccc',\n            fontStyle: 'italic',\n        }\n        : (settings === null || settings === void 0 ? void 0 : settings.isConnected)\n            ? {\n                // backgroundColor: '#d2f7b6',\n                color: '#58ca00',\n            }\n            : {\n                color: '#ccc',\n            };\n    return (_jsxs(Box, { children: [_jsxs(Box, { children: [!settings.installed && !loading && (_jsx(_Fragment, { children: _jsxs(Box, { sx: {\n                                backgroundColor: '',\n                                color: '#f00',\n                                textAlign: 'center',\n                                marginBottom: '1rem',\n                                padding: '1rem',\n                                borderRadius: '0.25rem',\n                            }, children: [_jsx(Typography, { sx: { fontWeight: 'bold' }, children: t('WARNING') }), _jsx(Typography, { children: t('WIDGET_INSTALL_ERROR') })] }) })), _jsx(Box, { sx: { width: '100%', display: 'none', justifyContent: 'flex-end', marginBottom: '1rem' }, children: _jsx(Typography, { sx: __assign(__assign({}, colorBadge), { display: 'inline-flex', fontSize: '12px', letterSpacing: '1px', padding: '0.1rem 0.75rem', borderRadius: '1rem' }), children: loading ? t('loading') : (settings === null || settings === void 0 ? void 0 : settings.isConnected) ? t('connected') : t('notConnected') }) }), _jsxs(Box, { sx: {\n                            padding: settings.isConnected ? '2rem 1rem' : '2rem 1rem 1rem',\n                            border: '1px dashed #ddd',\n                            borderRadius: '1rem',\n                            marginBottom: '2rem',\n                        }, children: [settings.isConnected && (_jsx(_Fragment, { children: _jsxs(Typography, { sx: { fontWeight: '600', paddingLeft: '1rem' }, children: [t('LABEL_API_KEY'), \":\", _jsx(Box, { component: \"span\", sx: { fontWeight: 'normal', marginLeft: '1rem' }, children: settings.apiKey }), _jsx(Link, { component: \"span\", sx: {\n                                                display: 'inline-flex',\n                                                alignItems: 'center',\n                                                justifyContent: 'center',\n                                                width: '24px',\n                                                height: '24px',\n                                                fontWeight: 'normal',\n                                                marginLeft: '1rem',\n                                                color: 'red',\n                                                textDecoration: 'none',\n                                                cursor: 'pointer',\n                                            }, onClick: handleDisconnect, children: \"\\u2715\" })] }) })), !settings.isConnected && (_jsxs(_Fragment, { children: [_jsxs(Typography, { variant: \"subtitle2\", sx: { fontWeight: 'bold', paddingLeft: '1rem' }, children: [t('LABEL_API_KEY'), _jsx(Box, { component: \"span\", sx: __assign({ fontWeight: 'normal', marginLeft: '1rem' }, colorBadge), children: loading ? '' : (settings === null || settings === void 0 ? void 0 : settings.isConnected) ? t('connected') : t('notConnected') })] }), _jsxs(Box, { sx: {\n                                            display: 'flex',\n                                            justifyContent: 'center',\n                                            gap: '1rem',\n                                        }, component: 'form', onSubmit: handleSubmit, children: [_jsx(Input, { sx: {\n                                                    width: '100%',\n                                                    border: '1px solid #ddd',\n                                                    outline: 'none',\n                                                    borderRadius: '4px',\n                                                    paddingLeft: '1rem',\n                                                    paddingRight: '1rem',\n                                                    '&:before': { content: 'none' },\n                                                    '&:after': { content: 'none' },\n                                                }, disabled: loading || !settings.installed, placeholder: t('integrationApiKey'), value: settings.apiKey || '', onChange: handleChange }), _jsxs(Button, { disableElevation: true, variant: !((_a = settings.apiKey) === null || _a === void 0 ? void 0 : _a.trim()) || !isChanged ? 'outlined' : 'contained', type: \"submit\", disabled: loading || !((_b = settings.apiKey) === null || _b === void 0 ? void 0 : _b.trim()) || !isChanged || !settings.installed, sx: {\n                                                    backgroundColor: '#58ca00',\n                                                    border: '1px solid #58ca00',\n                                                    padding: '5px 2rem',\n                                                    textTransform: 'none',\n                                                    letterSpacing: '1px',\n                                                    '&:hover': { backgroundColor: '#58ca00' },\n                                                    '&:disabled': {\n                                                        backgroundColor: ((_c = settings.apiKey) === null || _c === void 0 ? void 0 : _c.trim()) && isChanged ? '#d2f7b6' : 'transparent',\n                                                        color: loading || !settings.installed ? '#a6a6a8' : '#58ca00',\n                                                        borderColor: loading || !settings.installed ? '#a6a6a8' : '#58ca00',\n                                                    },\n                                                }, children: [t('connect'), loading && (_jsx(CircularProgress, { size: 22, sx: {\n                                                            color: '#a6a6a8',\n                                                            position: 'absolute',\n                                                            zIndex: 1,\n                                                        } }))] })] }), _jsx(Box, { sx: { position: 'relative', height: '1rem', marginBottom: '1rem' }, children: errorMessage && (_jsx(_Fragment, { children: _jsx(Typography, { variant: \"subtitle2\", sx: {\n                                                    color: 'red',\n                                                    position: 'absolute',\n                                                    left: 0,\n                                                    top: 0,\n                                                    fontSize: '11px',\n                                                    paddingLeft: '1rem',\n                                                }, children: t(errorMessage) }) })) })] }))] })] }), _jsx(Instruction, {})] }));\n};\nvar SettingsWrap = function (_a) {\n    var userSettings = _a.userSettings;\n    return (_jsx(Providers, { userSettings: userSettings, children: _jsx(Settings, {}) }));\n};\nexport default SettingsWrap;\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","getCookie","name","parts","concat","document","cookie","split","shift","getDomain","currentUrl","window","location","href","URL","hostname","domain","APP_URL","endsWith","widgetType","Settings","_a","_b","_c","_d","useState","installed","apiKey","isConnected","settings","setSettings","_e","loading","setLoading","_f","isChanged","setChange","_g","errorMessage","setError","useTranslation","fetchInstance","url","token","options","headers","fetch","json","catch","getAppToken","response","getTokenByKey","debounceFn","data","integration_token","delay","setTimeout","useEffect","appToken","colorBadge","color","fontStyle","_jsxs","Box","children","_jsx","_Fragment","sx","backgroundColor","textAlign","marginBottom","padding","borderRadius","Typography","fontWeight","width","display","justifyContent","fontSize","letterSpacing","border","paddingLeft","component","marginLeft","Link","alignItems","height","textDecoration","cursor","onClick","preventDefault","method","JSON","stringify","trim","error","message","variant","gap","onSubmit","Input","outline","paddingRight","content","disabled","placeholder","onChange","target","Button","disableElevation","type","textTransform","borderColor","CircularProgress","size","position","zIndex","left","top","Instruction","userSettings","Providers"],"sourceRoot":""}